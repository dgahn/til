# 함수형 프로그래밍 정의, 순수함수

## 성공적인 프로그래밍

성공적인 프로그래밍을 하는 것은 좋은 프로그램을 만드는 것이다. 좋은 프로그램은 사용성, 성능, 확장성, 기획 변경에 대한 대응력이 좋다.

<br>

## 함수형 프로그래밍

성공적인 프로그래밍을 위해 부수 효과를 미워하고 조합성을 강조하는 프로그래밍 패러다임이다.

### 부수효과를 미워한다.
순수 함수를 만든다. 수학적 함수를 말한다. 들어온 인자가 같으면 항상 동일한 값을 리턴하는 것을 말한다.
함수가 받은 인자외의 다른 외부의 상태에 영향을 주지 않는 함수를 말한다. 리턴 값 외에는 외부와 소통하는 것이 없는 함수를 말한다.

### 조합성을 강조한다.

조합성을 강조한다는 것은 모듈화 수준을 높인다는 것이고 순수 함수로 모듈화 수준을 높인다는 것은 오류는 적고 안정성을 높일 수 있다.

<br>

## 순수 함수

```javascript
function add(a, b) {
    return a + b;
}

console.log( add(10, 5) ) // 결과 15
console.log( add(10, 5) ) // 결과 15
console.log( add(10, 5) ) // 결과 15
```

add 함수는 순수 함수다. 동일한 인자를 주면 항상 같은 결과를 주고 이 함수를 호출함으로서 반환값만 주고 외부의 상태를 변경하지 않는다.

<br>

그러면 동일한 인자를 주었는데 다른 결과가 나오는 경우는 언제일까? 다음 코드를 보자.

```javascript
var c = 10;
function add(a, b) {
    return a + b + c;
}

console.log( add(10, 5) ) // 결과 25
console.log( add(10, 5) ) // 결과 25
console.log( add(10, 5) ) // 결과 25

c = 20;

console.log( add(10, 5) ) // 결과 35
console.log( add(10, 5) ) // 결과 35
console.log( add(10, 5) ) // 결과 35
```

다른 결과가 다르다.

<br>

다음은 부수효과가 나타는 경우에 대해서 보자.

```javascript
var c = 20;
function add(a, b) {
    c = b
    return a + b;
}
```

외부 변수인 c를 20으로 변경하였기 때문에 부수 효과를 주었다.

<br>

```javascript
var obj1 = { val : 10 };

function add(obj, b) {
    obj.val += b;
}

console.log( obj1.val );
add(obj1, 20);
console.log( obj1.val );
```

**obj1.value**의 값이 변경된다.

<br>

지금까지 살펴본 순수 함수가 아닌 경우가 문제가 아니라 순수 함수가 아니라는 것이다. 함수형 프로그래밍에서는 객체의 값을 변경하는데 
다른 형식으로 변형을 한다.

함수형 프로그래밍에서는 함수에서 원래의 값을 그대로 두고 새로운 값을 만들면서 복사해서 원하는 값을 리턴한다.

<br>

순수 함수를 다시 살펴보자.

```javascript
var obj1 = { val : 10 };
function add(obj, b) {
    return { val: obj.val + b }
}

var obj2 = add(obj1, 10);
```

**add** 함수는 인자 값을 사용해서 인자 객체를 변경하는 것이 아니라 새로운 객체를 생성한다.

<br>

순수 함수는 평가시점이 중요하지 않다. 이 말은 순수함수는 외부에 영향을 주지 않기 때문에 실행 시점에 따라 인자가 같다면 반환 값이 항상 같다는 말과 같다.

